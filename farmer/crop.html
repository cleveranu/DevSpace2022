
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
    <title>Agrel</title>
</head>
<body>

<header class="text-green-600 body-font" style="user-select: auto;">
  <div class="container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center" style="user-select: auto;">
    <nav class="flex lg:w-2/5 flex-wrap items-center text-base md:ml-auto" style="user-select: auto;">
        <a href="../Ngo/ngo.html" class="mr-5 hover:text-gray-900" style="user-select: auto;">NGO/Consultant </a>
        <a href="../login/login.html" class="mr-5 hover:text-gray-900" style="user-select: auto;">Sign in </a>
        <a href="../WeatherApp/weather.html"class="mr-5 hover:text-gray-900" style="user-select: auto;">Weather App</a>
      </nav>
    <a class="flex order-first lg:order-none lg:w-1/5 title-font font-medium items-center text-gray-900 lg:items-center lg:justify-center mb-4 md:mb-0" style="user-select: auto;">
        <img src="https://www.logomaker.com/api/main/images/1j+ojFVDOMkX9Wytexe43D6khv6EqxVNmxfIwXs1M3EMoAJtliUthvBo8fw8">
        <span class="ml-3 text-xl" style="user-select: auto;"></span>
      
    </a>
    <div class="lg:w-2/5 inline-flex lg:justify-end ml-5 lg:ml-0" style="user-select: auto;">

    </div>
  </div>
</header>
<hr>
<section class="text-gray-600 body-font" style="user-select: auto;">
    <div class="container px-5 py-24 mx-auto" style="user-select: auto;">
      <div class="flex flex-col text-center w-full mb-12" style="user-select: auto;">
        <h1 class="sm:text-3xl text-2xl font-medium title-font mb-4 text-gray-900" style="user-select: auto;">  Welcome, Farmer </h1>
        <p class="lg:w-2/3 mx-auto leading-relaxed text-base" style="user-select: auto;">Kindly fill in the details of the crop that you are harvesting here so we can reach you and help you better. Your details help us find suitable and personalized content for you</p>
      </div>
      <form onsubmit="return crop(event)">
      <div class="flex lg:w-2/3 w-full sm:flex-row flex-col mx-auto px-8 sm:space-x-4 sm:space-y-0 space-y-4 sm:px-0 items-end" style="user-select: auto;">
        <div class="relative flex-grow w-full" style="user-select: auto;">
          <label for="full-name" class="leading-7 text-sm text-gray-600" style="user-select: auto;">Name of Crop</label>
          <input type="text" id="full-name" name="full-name" class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-transparent focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out" style="user-select: auto;">
        </div>
        <div class="relative flex-grow w-full" style="user-select: auto;">
            <label for="email" class="leading-7 text-sm text-gray-600" style="user-select: auto;">Description of the crop </label>
            <input type="text" id="email" name="email" class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-transparent focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out" style="user-select: auto;">
          </div>
          <div class="relative flex-grow w-full" style="user-select: auto;">
            <label for="email" class="leading-7 text-sm text-gray-600" style="user-select: auto;">Estimated time required to harvest the crop</label>
            <input type="text" id="time" name="email" class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-transparent focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out" style="user-select: auto;">
          </div>
          <div class="relative flex-grow w-full" style="user-select: auto;">
            <label for="email" class="leading-7 text-sm text-gray-600" style="user-select: auto;">How old is the crop on the date of filling the form?</label>
            <input type="text" id="old" name="email" class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-transparent focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out" style="user-select: auto;">
          </div>
          <div class="relative flex-grow w-full" style="user-select: auto;">
            <label for="email" class="leading-7 text-sm text-gray-600" style="user-select: auto;">Location of the crop(District) </label>
            <input type="text" id="District" name="email" class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-transparent focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out" style="user-select: auto;">
          </div>
          <div class="relative flex-grow w-full" style="user-select: auto;">
            <label for="email" class="leading-7 text-sm text-gray-600" style="user-select: auto;">Location of the crop(City) </label>
            <input type="text" id="City" name="email" class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-transparent focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out" style="user-select: auto;">
          </div>
          <div class="relative flex-grow w-full" style="user-select: auto;">
            <label for="email" class="leading-7 text-sm text-gray-600" style="user-select: auto;">Location of the crop(State) </label>
            <input type="text" id="State" name="email" class="w-full bg-gray-100 bg-opacity-50 rounded border border-gray-300 focus:border-green-500 focus:bg-transparent focus:ring-2 focus:ring-green-200 text-base outline-none text-gray-700 py-1 px-3 leading-8 transition-colors duration-200 ease-in-out" style="user-select: auto;">
          </div>

          <p class="lg:w-2/3 mx-auto leading-relaxed text-base" style="user-select: auto;">If you are harvesting more than one crop then kindly submit single crop's detail at a time</p>
   
        <button class="text-white bg-green-500 border-0 py-2 px-8 focus:outline-none hover:bg-green-600 rounded text-lg" style="user-select: auto;">Submit</button>
      </div>
    </form>
    </div>
  </section>
<hr>
<footer class="text-gray-600 body-font" style="user-select: auto;">
    <div class="container px-5 py-8 mx-auto flex items-center sm:flex-row flex-col" style="user-select: auto;">
      <a class="flex title-font font-medium items-center md:justify-start justify-center text-gray-900" style="user-select: auto;">

        <span class="ml-3 text-xl" style="user-select: auto;">AGREL</span>
      </a>
      <p class="text-sm text-gray-500 sm:ml-4 sm:pl-4 sm:border-l-2 sm:border-gray-200 sm:py-2 sm:mt-0 mt-4" style="user-select: auto;">© 2022 — AGREL
        <a href="" class="text-gray-600 ml-1" rel="noopener noreferrer" target="_blank" style="user-select: auto;">@agrel</a>
      </p>
      <span class="inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start" style="user-select: auto;">
        <a class="text-gray-500" style="user-select: auto;">
          <svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24" style="user-select: auto;">
            <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z" style="user-select: auto;"></path>
          </svg>
        </a>
        <a class="ml-3 text-gray-500" style="user-select: auto;">
          <svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24" style="user-select: auto;">
            <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z" style="user-select: auto;"></path>
          </svg>
        </a>
        <a class="ml-3 text-gray-500" style="user-select: auto;">
          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24" style="user-select: auto;">
            <rect width="20" height="20" x="2" y="2" rx="5" ry="5" style="user-select: auto;"></rect>
            <path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01" style="user-select: auto;"></path>
          </svg>
        </a>
        <a class="ml-3 text-gray-500" style="user-select: auto;">
         
        </a>
      </span>
    </div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.16/dist/sweetalert2.all.min.js"></script>
  <script type="text/javascript">
var jwt = localStorage.getItem('token');
if (jwt == null) {
window.location.href = '../Login/login.html';
}

function crop() {

    const name = document.getElementById('full-name').value;
    const description = document.getElementById('email').value;
    const estimatedTime = document.getElementById('time').value;
    const howOld = document.getElementById('old').value;
    const state = document.getElementById('State').value;
    const city = document.getElementById('City').value;
    const district = document.getElementById('District').value;
   

    const openToContractFarming = document.getElementById(' openToContractFarming').value;

// const name = document.getElementById('name').value;

const xhttp = new XMLHttpRequest();
xhttp.open('POST', "http://localhost:3000/api/v1/farmer/crop");
xhttp.setRequestHeader('Content-Type', 'application/json;charset=UTF-8');
xhttp.setRequestHeader("token",jwt);
xhttp.send(JSON.stringify({
    'name':name,

    'description': description,
    'details':{
        "howOld": howOld,
        "estimatedTime": estimatedTime
    },
    "location": {
       " city ": city,
        "state": state,
       " district" : district
    } 
 
}));

xhttp.onreadystatechange = function () {
    if (this.readyState == 4) {
        const objects = JSON.parse(this.responseText);
        console.log(objects);
        if (objects['status'] == 'ok') {
            localStorage.setItem('token', objects['token']);
            console.log(objects['token']);
            Swal.fire({
                text: objects['message'],
                icon: 'success',
                confirmButtonText: 'OK'
              
            }).then((result) => {
                if (result.isConfirmed) {
                    // window.location.href = 'home.html';

                }
            });
        } else {
            Swal.fire({
                text: objects['message'],
                icon: 'error',
                confirmButtonText: 'OK'
            });
        }
    }
};
return false;
}
  </script>
</body>
</html>
</body>

</html>
